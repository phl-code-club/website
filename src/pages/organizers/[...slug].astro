---
import "98.css";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
interface Props {
  organizer: CollectionEntry<"organizers">;
}

export async function getStaticPaths() {
  const organizers = await getCollection("organizers");
  return organizers.map((organizer) => ({
    params: { slug: organizer.id },
    props: {
      organizer,
    },
  }));
}

const { organizer } = Astro.props;
---

<html>
  <head>
    <meta charset="UTF-8" />
    <script>
      console.log();
    </script>
    <style>
      :root {
        --colors-lavender: #ebdefe;
        --colors-yellow: #ffeb9a;
        --colors-red: #9e3167;
        --colors-pink: #ffcfe5;
        --colors-blue: #215785;
        --colors-cyan: #d4e5f6;
        --colors-violet: #7832d3;
        --colors-black: #000;
        --colors-white: #fff;
        --colors-gray: #262626;
      }

      body {
        margin: 2rem;
        box-sizing: border-box;
        background-color: var(--colors-cyan);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .container {
        width: 100%;
      }

      .window {
        background-color: var(--colors-lavender);
        border-radius: 4px;
        overflow: hidden;
        width: 100%;
      }

      body .title-bar {
        height: 2rem;
        padding: 0 0.5rem;
        border-bottom: 2px solid #ffffff;
        background: linear-gradient(
          90deg,
          var(--colors-purple),
          var(--colors-violet)
        );
      }

      .home-button {
        margin: 1em;
      }

      .title-bar-text {
        font-weight: bold;
        color: white;
      }

      .window-body {
        background-color: var(--colors-lavender);
        font-size: 16px;
        display: flex;
        padding: 1rem;
        overflow: auto;

        & > * {
          margin: 1rem;
        }
      }

      .window-body a {
        color: #000;
      }

      .body-left,
      .body-right,
      .body-tabs {
        border-left: 2px solid #404040;
        border-top: 2px solid #404040;
        border-right: 2px solid #f4f4f4;
        border-bottom: 2px solid #f4f4f4;
      }

      @media (prefers-color-scheme: light) {
        body {
          background-color: var(--colors-cyan);
        }

        .window {
          background-color: var(--colors-lavender);
        }

        .body-left,
        .body-tabs {
          background-color: var(--colors-white);
        }

        .window-body a {
          color: var(--colors-black);
        }

        .list-container {
          border-right: 1.5px solid #000;
        }
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --dark-body-bg: #28153d;
          --dark-body-tabs-bg: #19082c;
          --dark-window-bg: #8d67bf;
          --dark-three-title-bar-bg: #f0f0f0;
          --dark-three-title-bar-text: #000;
          --dark-title-bar-start: #030105;
          --dark-name: #9c6cda;
        }

        body {
          color: var(--colors-white);
          background-color: var(--dark-body-bg);
        }

        .window-body {
          background-color: var(--dark-body-tabs-bg);
        }

        .window {
          background-color: var(--dark-window-bg);
        }

        .title-bar {
          background: linear-gradient(
            90deg,
            var(--dark-title-bar-start),
            var(--colors-violet)
          );
        }

        .window-body a {
          color: #c6aeff;
        }

        a {
          color: var(--colors-white);
        }
      }

      ul {
        padding-inline-start: 1em;
      }

      p {
        font-size: 1.25rem;
      }

      .flex {
        width: 100%;
        max-width: 550px;
        display: flex;
        justify-content: space-between;

        div {
          margin-right: 1rem;
          width: 100%;
        }
      }

      .links {
        list-style-type: none;
        padding: 0;
        margin: 0;

        a {
          text-decoration: none;
        }

        a:hover {
          text-decoration: underline;
        }
      }
    </style>
  </head>
  <body>
    <div class="window">
      <div class="title-bar" id="bar-color">
        <div class="title-bar-text">organizer profile</div>
        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </div>
      <div class="window-body">
        <Image
          src={organizer.data.photo}
          alt={`${organizer.data.name} photo`}
          width={400}
        />
        <div>
          <h2>{organizer.data.name} {organizer.data.emoticon}</h2>
          <h3>{organizer.data.title}</h3>
          <p><b>Bio:</b> {organizer.data.bio}</p>
          <div class="flex">
            <div>
              <p><b>Likes:</b></p>
              <ul class="likes">
                {organizer.data.likes.map((like) => <li>{like}</li>)}
              </ul>
            </div>
            <div>
              <p><b>Dislikes:</b></p>
              <ul class="dislikes">
                {organizer.data.dislikes.map((dislike) => <li>{dislike}</li>)}
              </ul>
            </div>
            <div>
              <p><b>Links:</b></p>
              <ul class="links">
                {
                  Object.entries(organizer.data.links).map(
                    ([name, { icon, url }]) => (
                      <li>
                        <a href={url} target="_blank">
                          <span style="margin-right: 5px;">{icon}</span> {name}
                        </a>
                      </li>
                    ),
                  )
                }
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
